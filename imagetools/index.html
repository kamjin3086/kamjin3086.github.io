<!DOCTYPE html><html lang="zh-CN" data-astro-cid-yawrbxfo> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>图片处理 - 本地图片编辑</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"><!-- UPNG.js：全局挂载 UPNG（含 encodeLL），is:inline 防止 Astro 打包 --><script src="/lib/UPNG.js"></script><link rel="stylesheet" href="/_astro/index.C3i11XiZ.css">
<style>.footer-pocket[data-astro-cid-w3csb3e3]{position:relative;margin-top:48px;margin-bottom:calc(env(safe-area-inset-bottom,0px) + 20px);padding:8px 16px;text-align:center;border-radius:9999px;background:#94a3b826;border:1px solid rgba(148,163,184,.2);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:0 2px 8px #0000000d;user-select:none;max-width:max-content;margin-left:auto;margin-right:auto}.footer-pocket[data-astro-cid-w3csb3e3] small[data-astro-cid-w3csb3e3]{font-size:12px;color:#475569cc;font-weight:400;letter-spacing:.2px}@media(min-width:640px){.footer-pocket[data-astro-cid-w3csb3e3] small[data-astro-cid-w3csb3e3]{font-size:13px}}.footer-pocket[data-astro-cid-w3csb3e3]:hover{background:#94a3b833;border-color:#94a3b84d}
</style>
<link rel="stylesheet" href="/_astro/imagetools.Gv68m4G3.css"></head> <body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col" data-astro-cid-yawrbxfo> <!-- 页面头部导航 --> <header class="w-full flex items-center justify-between p-4 mb-6"> <!-- 左侧：面包屑 + 二级导航（仅 Chatless 页面显示） --> <div class="flex items-center gap-6"> <!-- 面包屑导航 --> <nav class="flex items-center space-x-2 text-sm text-slate-600"> <a href="/" class="hover:text-slate-900 transition-colors">🏠 首页</a> <span>/</span> <span class="text-slate-900 font-medium">🖼️ 图片处理工具</span> </nav> <!-- Chatless 子导航（md 及以上可见） -->  </div> <!-- 右侧：返回首页按钮 --> <a href="/" class="flex items-center space-x-2 px-3 py-1 rounded-lg bg-slate-200/60 hover:bg-slate-300/60 text-slate-700 hover:text-slate-900 transition-all duration-200 text-sm"> <span>←</span> <span>返回首页</span> </a> </header> <script type="module">
        import * as transformers from '/lib/transformers.min.js';
        window.transformers = transformers;
    </script> <!-- JS动态Tooltip容器 --> <div id="dynamic-tooltip" class="absolute hidden opacity-0 z-50 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-xl border border-gray-700 w-72" data-astro-cid-yawrbxfo> <div id="dynamic-tooltip-content" class="relative" data-astro-cid-yawrbxfo></div> </div> <!-- 自定义模态框 --> <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 hidden opacity-0" data-astro-cid-yawrbxfo> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-sm p-6 text-center transform transition-all scale-95" data-astro-cid-yawrbxfo> <p id="modal-message" class="text-lg mb-6" data-astro-cid-yawrbxfo></p> <div id="modal-actions" class="flex justify-center gap-4" data-astro-cid-yawrbxfo></div> </div> </div> <div class="container mx-auto p-4 sm:p-8 lg:p-12 max-w-6xl flex-grow" data-astro-cid-yawrbxfo> <header class="flex justify-between items-center mb-10" data-astro-cid-yawrbxfo> <div data-astro-cid-yawrbxfo> <h1 class="text-4xl md:text-5xl font-black" data-astro-cid-yawrbxfo>图片处理</h1> <p class="text-gray-500 mt-2 max-w-2xl" data-astro-cid-yawrbxfo>支持旋转、裁剪、缩放、格式转换等常用操作；所有处理均在本地浏览器中完成，安全且即时。</p> </div> <div class="flex items-center space-x-2" data-astro-cid-yawrbxfo> <button id="replace-image-btn" class="hidden text-sm font-medium bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center" data-tooltip="替换图片" data-astro-cid-yawrbxfo> <svg class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yawrbxfo><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8m-4-6l-4-4-4 4m4-4v12" data-astro-cid-yawrbxfo></path></svg>
替换
</button> <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none" data-tooltip="切换亮/暗模式" data-astro-cid-yawrbxfo> <svg id="theme-icon-light" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yawrbxfo><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" data-astro-cid-yawrbxfo></path></svg> <svg id="theme-icon-dark" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yawrbxfo><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" data-astro-cid-yawrbxfo></path></svg> </button> </div> </header> <main data-astro-cid-yawrbxfo> <!-- 上传区域 --> <div id="upload-section" data-astro-cid-yawrbxfo> <label for="imageInput" class="cursor-pointer text-center block border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-12 hover:border-gray-900 dark:hover:border-gray-500 hover:bg-gray-200/50 dark:hover:bg-gray-800/50 transition-colors" data-astro-cid-yawrbxfo> <svg class="mx-auto h-16 w-16 text-gray-400 dark:text-gray-600" fill="none" viewBox="0 0 48 48" aria-hidden="true" data-astro-cid-yawrbxfo><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4V12a4 4 0 014-4h12l4 4h12a4 4 0 014 4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-yawrbxfo></path></svg> <p class="mt-4 text-lg font-medium text-gray-700 dark:text-gray-300" data-astro-cid-yawrbxfo>上传文件</p> <p class="text-sm text-gray-500 dark:text-gray-400 mt-1" data-astro-cid-yawrbxfo>或拖拽到此区域</p> </label> <input type="file" id="imageInput" class="hidden" accept="image/*" data-astro-cid-yawrbxfo> </div> <!-- 编辑器 --> <div id="editor-section" class="hidden" data-astro-cid-yawrbxfo> <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12" data-astro-cid-yawrbxfo> <!-- 左侧控制面板 --> <div class="lg:col-span-4 flex flex-col" data-astro-cid-yawrbxfo> <div class="flex-grow flex flex-col" data-astro-cid-yawrbxfo> <div class="flex border-b border-gray-200 dark:border-gray-700" data-astro-cid-yawrbxfo> <button class="tab-btn flex-1 p-4 text-sm font-semibold border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100" data-tab="resize" data-astro-cid-yawrbxfo>缩放</button> <button class="tab-btn flex-1 p-4 text-sm font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-gray-100" data-tab="crop" data-astro-cid-yawrbxfo>裁剪</button> <button class="tab-btn flex-1 p-4 text-sm font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-gray-100" data-tab="export" data-astro-cid-yawrbxfo>导出</button> </div> <div class="py-8 flex-grow" data-astro-cid-yawrbxfo> <div id="resize-panel" class="tab-panel space-y-8" data-astro-cid-yawrbxfo> <div class="space-y-3" data-astro-cid-yawrbxfo> <label class="block text-sm font-medium text-gray-500" data-astro-cid-yawrbxfo>快速缩放</label> <div class="grid grid-cols-4 gap-2" data-astro-cid-yawrbxfo> <button class="quick-scale-btn text-sm py-2 border border-gray-300 dark:border-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800" data-scale="0.5" data-astro-cid-yawrbxfo>50%</button> <button class="quick-scale-btn text-sm py-2 border border-gray-300 dark:border-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800" data-scale="0.75" data-astro-cid-yawrbxfo>75%</button> <button class="quick-scale-btn text-sm py-2 border border-gray-300 dark:border-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800" data-scale="1.5" data-astro-cid-yawrbxfo>150%</button> <button class="quick-scale-btn text-sm py-2 border border-gray-300 dark:border-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800" data-scale="2" data-astro-cid-yawrbxfo>200%</button> </div> </div> <div data-astro-cid-yawrbxfo> <label for="presetsSelect" class="block text-sm font-medium text-gray-500 mb-2" data-astro-cid-yawrbxfo>常用尺寸</label> <select id="presetsSelect" class="w-full p-2 border bg-gray-100 dark:bg-gray-800/50 border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100" data-astro-cid-yawrbxfo> <option value="" data-astro-cid-yawrbxfo>选择预设...</option> <option value="1920x1080" data-astro-cid-yawrbxfo>Full HD (1920x1080)</option> <option value="1280x720" data-astro-cid-yawrbxfo>HD (1280x720)</option> <option value="3840x2160" data-astro-cid-yawrbxfo>4K UHD (3840x2160)</option> <option value="1080x1080" data-astro-cid-yawrbxfo>Instagram Post (1080x1080)</option> <option value="1080x1350" data-astro-cid-yawrbxfo>Instagram Portrait (1080x1350)</option> <option value="1200x628" data-astro-cid-yawrbxfo>Facebook Link (1200x628)</option> </select> </div> <div class="space-y-6 pt-2" data-astro-cid-yawrbxfo> <div class="flex items-center space-x-4" data-astro-cid-yawrbxfo><label for="widthInput" class="w-14 font-medium" data-astro-cid-yawrbxfo>宽度</label><input type="number" id="widthInput" class="w-full p-2 swiss-input" data-astro-cid-yawrbxfo></div> <div class="flex items-center space-x-4" data-astro-cid-yawrbxfo><label for="heightInput" class="w-14 font-medium" data-astro-cid-yawrbxfo>高度</label><input type="number" id="heightInput" class="w-full p-2 swiss-input" data-astro-cid-yawrbxfo></div> <div class="flex items-center pt-2" data-astro-cid-yawrbxfo><input type="checkbox" id="aspectRatioLock" checked class="h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 focus:ring-gray-900 dark:focus:ring-gray-100" data-astro-cid-yawrbxfo><label for="aspectRatioLock" class="ml-3 block text-sm" data-astro-cid-yawrbxfo>锁定宽高比</label></div> </div> </div> <div id="crop-panel" class="tab-panel space-y-4 hidden" data-astro-cid-yawrbxfo><p class="text-sm text-center text-gray-500 dark:text-gray-400" data-astro-cid-yawrbxfo>在右侧图片上拖动鼠标开始裁剪</p><button id="cropBtn" disabled class="w-full py-3 swiss-btn disabled:bg-gray-300 dark:disabled:bg-gray-700 disabled:cursor-not-allowed" data-astro-cid-yawrbxfo>应用裁剪</button></div> <div id="export-panel" class="tab-panel space-y-6 hidden" data-astro-cid-yawrbxfo> <div data-astro-cid-yawrbxfo> <label for="formatSelect" class="block text-sm font-medium text-gray-500 mb-2" data-astro-cid-yawrbxfo>目标格式</label> <select id="formatSelect" class="w-full p-2 border bg-gray-100 dark:bg-gray-800/50 border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100" data-astro-cid-yawrbxfo> <option value="image/jpeg" data-astro-cid-yawrbxfo>JPEG</option> <option value="image/png" data-astro-cid-yawrbxfo>PNG</option> <option value="image/webp" data-astro-cid-yawrbxfo>WEBP</option> </select> </div> <!-- PNG 位深度，仅在选择 PNG 时显示 --> <div id="bitdepth-control" class="hidden" data-astro-cid-yawrbxfo> <label for="bitDepthSelect" class="block text-sm font-medium text-gray-500 mb-2" data-astro-cid-yawrbxfo>PNG 位深度</label> <select id="bitDepthSelect" class="w-full p-2 border bg-gray-100 dark:bg-gray-800/50 border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100" data-astro-cid-yawrbxfo> <option value="32" data-astro-cid-yawrbxfo>32 位 (RGBA，含透明)</option> <option value="24" data-astro-cid-yawrbxfo>24 位 (RGB，不含透明)</option> </select> </div> <!-- JPEG / WEBP 质量控制--> <div id="quality-control" data-astro-cid-yawrbxfo> <label for="qualitySlider" class="block text-sm font-medium text-gray-500 mb-2" data-astro-cid-yawrbxfo>图片质量: <span id="qualityValue" class="font-semibold text-gray-900 dark:text-gray-100" data-astro-cid-yawrbxfo>92</span>%</label> <input type="range" id="qualitySlider" min="1" max="100" value="92" data-astro-cid-yawrbxfo> </div> <button id="bgRemoveBtn" class="w-full py-3 swiss-btn hidden" data-astro-cid-yawrbxfo>去背景 (PNG)</button> <!-- 去背景引擎加载状态 --> <div id="bgRemoveStatus" class="hidden mt-2 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400" data-astro-cid-yawrbxfo> <div class="loading-pulse mr-2" data-astro-cid-yawrbxfo></div> <span data-astro-cid-yawrbxfo>去背景处理中</span> </div> </div> </div> <div class="pt-6 border-t border-gray-200 dark:border-gray-700 space-y-3" data-astro-cid-yawrbxfo> <button id="resetBtn" class="w-full py-3 swiss-btn-secondary" data-astro-cid-yawrbxfo><svg class="w-5 h-5 mr-2 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yawrbxfo><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h5M20 20v-5h-5M4 4l5 5M20 20l-5-5" data-astro-cid-yawrbxfo></path></svg>重置</button> <button id="downloadBtn" class="w-full py-4 text-lg swiss-btn" data-astro-cid-yawrbxfo><svg class="w-6 h-6 mr-2 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-yawrbxfo><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" data-astro-cid-yawrbxfo></path></svg>下载图片</button> <a id="downloadLink" class="hidden" data-astro-cid-yawrbxfo></a> </div> </div> </div> <!-- 右侧预览区 --> <div id="canvas-container" class="lg:col-span-8 flex flex-col" data-astro-cid-yawrbxfo> <div id="info-bar" class="hidden bg-gray-100 dark:bg-black text-xs text-gray-600 dark:text-gray-400 p-2 rounded-t-lg flex flex-wrap items-center justify-between gap-x-4 gap-y-1" data-astro-cid-yawrbxfo> <span id="info-filename" class="font-semibold truncate" data-astro-cid-yawrbxfo></span> <div data-astro-cid-yawrbxfo><span class="font-medium" data-astro-cid-yawrbxfo>原始:</span> <span id="info-original-dims" data-astro-cid-yawrbxfo></span> (<span id="info-original-size" data-astro-cid-yawrbxfo></span>)</div> <div data-astro-cid-yawrbxfo><span class="font-medium text-gray-900 dark:text-gray-100" data-astro-cid-yawrbxfo>当前:</span> <span id="info-current-dims" class="font-semibold text-gray-900 dark:text-gray-100" data-astro-cid-yawrbxfo></span></div> </div> <div id="image-preview-wrapper" class="relative flex-grow flex items-center justify-center bg-gray-200/50 dark:bg-black/20 rounded-b-lg min-h-[400px] lg:min-h-0 overflow-hidden" data-astro-cid-yawrbxfo> <canvas id="previewCanvas" class="max-w-full max-h-[75vh] object-contain" data-astro-cid-yawrbxfo></canvas> <div id="crop-overlay" class="absolute inset-0 hidden cursor-crosshair" data-astro-cid-yawrbxfo> <div id="crop-box" data-astro-cid-yawrbxfo></div> </div> <div id="loading-spinner" class="absolute inset-0 flex items-center justify-center bg-black/30 rounded-lg hidden" data-astro-cid-yawrbxfo><div class="loader" data-astro-cid-yawrbxfo></div></div> </div> </div> </div> <!-- 下载历史 --> <div id="history-section" class="mt-12 hidden" data-astro-cid-yawrbxfo> <div class="flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-4" data-astro-cid-yawrbxfo> <h2 class="text-2xl font-bold" data-astro-cid-yawrbxfo>下载历史</h2> <button id="clear-history-btn" class="text-sm font-medium text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed" data-tooltip="清空所有历史记录" data-astro-cid-yawrbxfo>清空历史</button> </div> <div id="history-list" class="space-y-3 max-h-64 overflow-y-auto pr-2" data-astro-cid-yawrbxfo> <!-- History items will be injected here --> </div> </div> </div> </main> </div> <!-- 主逻辑脚本在头部 UPNG 加载后执行 --> <script type="module" src="/_astro/imagetools.astro_astro_type_script_index_0_lang.C4M_N24_.js"></script> <footer class="footer-pocket" aria-label="Site copyright" data-astro-cid-w3csb3e3> <small data-astro-cid-w3csb3e3>© 2025 kamjin3086. All rights reserved.</small>  </footer> </body></html>